{"mappings":"AAaO,SAASA,EAAgBC,GAC9B,OAAOC,MACL,sIAAqDD,KACrDE,MAAKC,IACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,G,CCjB1B,MAAMC,EAAO,CACXC,SAAUC,SAASC,cAAc,iBACjCC,WAAYF,SAASC,cAAc,aACnCE,MAAOH,SAASC,cAAc,UAC9BG,OAAQJ,SAASC,cAAc,aAG3BF,SAAEM,EAAQH,WAAEI,EAAUF,OAAEG,EAAMJ,MAAEK,GAAUV,EA+ChD,SAASW,IACPD,EAAME,UAAUC,OAAO,Y,CA9CzBH,EAAME,UAAUE,IAAI,aDPXrB,MAAM,qHAAoCC,MAAKC,IACpD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,ICMvBL,MAAKqB,IACiBA,EAAIC,KAAIC,IAAO,CAAEC,KAAMD,EAAGE,KAAMC,MAAOH,EAAGI,OAClDC,SAAQC,IACnB,MAAMC,EAAStB,SAASuB,cAAc,UACtCD,EAAOJ,MAAQG,EAAWH,MAC1BI,EAAON,KAAOK,EAAWL,KACzBX,EAASmB,YAAYF,GACrBf,EAAOG,UAAUE,IAAI,aACrBP,EAASK,UAAUC,OAAO,YAAY,GACtC,IAEHc,OAAMtB,IACLE,EAASK,UAAUE,IAAI,aACvBL,EAAOG,UAAUE,IAAI,aACrBH,GAAc,IAGlBJ,EAASqB,iBAAiB,UAE1B,SAAuBC,GACrBpB,EAAOG,UAAUC,OAAO,aACxBN,EAASK,UAAUE,IAAI,aACvBN,EAAWI,UAAUE,IAAI,aACzBJ,EAAME,UAAUE,IAAI,aAGpBvB,EADgBsC,EAAMC,cAAcV,OAEjC1B,MAAKqC,IACJtB,EAAOG,UAAUE,IAAI,aACrBP,EAASK,UAAUC,OAAO,aAC1B,MAAMmB,IAAEA,EAAGC,OAAEA,GAAWF,EAAK,GAE7BvB,EAAW0B,UAAY,kCAAkCF,WAAaC,EAAO,GAAGd,iDAAiDc,EAAO,GAAGd,eAAec,EAAO,GAAGE,yCAAyCF,EAAO,GAAGG,wBACvN5B,EAAWI,UAAUC,OAAO,YAAY,IAEzCc,OAAMtB,IACLE,EAASK,UAAUC,OAAO,aAC1BJ,EAAOG,UAAUE,IAAI,aACrBH,GAAc,G","sources":["src/js/cat-api.js","src/js/index.js"],"sourcesContent":["const url = 'https://api.thecatapi.com/v1';\nconst api_key =\n  'live_c3rFUokWMhzXC4qp5HYr4so0a73lviRVj9JyJbbjMGF6hwvN5ennXkFnIC69TWBF';\n\nexport function fetchBreeds() {\n  return fetch(`${url}/breeds?api_key=${api_key}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${url}/images/search?api_key=${api_key}&breed_ids=${breedId}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport '../css/styles.css';\n\nconst refs = {\n  selector: document.querySelector('.breed-select'),\n  divCatInfo: document.querySelector('.cat-info'),\n  error: document.querySelector('.error'),\n  loader: document.querySelector('.loader'),\n};\n\nconst { selector, divCatInfo, loader, error } = refs; //Деструктуризация рефсов\n\nerror.classList.add('is-hidden');\n\nfetchBreeds()\n  .then(res => {\n    const breedOptions = res.map(el => ({ text: el.name, value: el.id }));\n    breedOptions.forEach(optionData => {\n      const option = document.createElement('option');\n      option.value = optionData.value;\n      option.text = optionData.text;\n      selector.appendChild(option);\n      loader.classList.add('is-hidden');\n      selector.classList.remove('is-hidden');\n    });\n  })\n  .catch(error => {\n    selector.classList.add('is-hidden');\n    loader.classList.add('is-hidden');\n    onFetchError();\n  });\n\nselector.addEventListener('change', onSelectBreed);\n\nfunction onSelectBreed(event) {\n  loader.classList.remove('is-hidden');\n  selector.classList.add('is-hidden');\n  divCatInfo.classList.add('is-hidden');\n  error.classList.add('is-hidden');\n\n  const breedId = event.currentTarget.value;\n  fetchCatByBreed(breedId)\n    .then(data => {\n      loader.classList.add('is-hidden');\n      selector.classList.remove('is-hidden');\n      const { url, breeds } = data[0];\n\n      divCatInfo.innerHTML = `<div class=\"box-img\"><img src=\"${url}\" alt=\"${breeds[0].name}\" width=\"400\"/></div><div class=\"box\"><h1>${breeds[0].name}</h1><p>${breeds[0].description}</p><p><b>Temperament:</b> ${breeds[0].temperament}</p></div>`;\n      divCatInfo.classList.remove('is-hidden');\n    })\n    .catch(error => {\n      selector.classList.remove('is-hidden');\n      loader.classList.add('is-hidden');\n      onFetchError();\n    });\n}\n\nfunction onFetchError() {\n  error.classList.remove('is-hidden');\n}\n"],"names":["$c4ebbd28ee7007ee$export$57b7d3a597416aa2","breedId","fetch","then","response","ok","Error","status","json","$85a5f86b715fe7db$var$refs","selector","document","querySelector","divCatInfo","error","loader","$85a5f86b715fe7db$var$selector","$85a5f86b715fe7db$var$divCatInfo","$85a5f86b715fe7db$var$loader","$85a5f86b715fe7db$var$error","$85a5f86b715fe7db$var$onFetchError","classList","remove","add","res","map","el","text","name","value","id","forEach","optionData","option","createElement","appendChild","catch","addEventListener","event","currentTarget","data","url","breeds","innerHTML","description","temperament"],"version":3,"file":"index.018387e4.js.map"}