{"mappings":"YAAA,IAAMA,EAAM,+BACNC,EACJ,wEAWK,SAASC,EAAgBC,GAC9B,OAAOC,MACL,GAA8BC,OAA3BL,EAAI,yBAA4CK,OAArBJ,EAAQ,eAAqBI,OAARF,IACnDG,MAAK,SAAAC,GACL,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,ICjBpB,IAAMC,EAAO,CACXC,SAAUC,SAASC,cAAc,iBACjCC,WAAYF,SAASC,cAAc,aACnCE,MAAOH,SAASC,cAAc,UAC9BG,OAAQJ,SAASC,cAAc,YAGzBI,EAAwCP,EAAxCC,SAAUO,EAA8BR,EAA9BI,WAAYK,EAAkBT,EAAlBM,OAAQI,EAAUV,EAAVK,MA+CtC,SAASM,IACPD,EAAME,UAAUC,OAAO,Y,CA9CzBH,EAAME,UAAUE,IAAI,aDPXtB,MAAM,GAAyBC,OAAtBL,EAAI,oBAA0BK,OAARJ,IAAWK,MAAK,SAAAC,GACpD,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,ICMjBL,MAAK,SAAAqB,GACiBA,EAAIC,KAAI,SAAAC,G,MAAO,CAAEC,KAAMD,EAAGE,KAAMC,MAAOH,EAAGI,G,IAClDC,SAAQ,SAAAC,GACnB,IAAMC,EAAStB,SAASuB,cAAc,UACtCD,EAAOJ,MAAQG,EAAWH,MAC1BI,EAAON,KAAOK,EAAWL,KACzBX,EAASmB,YAAYF,GACrBf,EAAOG,UAAUE,IAAI,aACrBP,EAASK,UAAUC,OAAO,Y,OAG7Bc,OAAM,SAAAtB,GACLE,EAASK,UAAUE,IAAI,aACvBL,EAAOG,UAAUE,IAAI,aACrBH,G,IAGJJ,EAASqB,iBAAiB,UAE1B,SAAuBC,GACrBpB,EAAOG,UAAUC,OAAO,aACxBN,EAASK,UAAUE,IAAI,aACvBN,EAAWI,UAAUE,IAAI,aACzBJ,EAAME,UAAUE,IAAI,aAGpBxB,EADgBuC,EAAMC,cAAcV,OAEjC1B,MAAK,SAAAqC,GACJtB,EAAOG,UAAUE,IAAI,aACrBP,EAASK,UAAUC,OAAO,aAC1B,IAAwBmB,EAAAD,EAAK,GAArBE,EAAgBD,EAAhBC,IAAKC,EAAWF,EAAXE,OAEb1B,EAAW2B,UAAY,kCAA+C1C,OAAbwC,EAAI,WAAoExC,OAA3DyC,EAAO,GAAGf,KAAK,8CAAqE1B,OAAzByC,EAAO,GAAGf,KAAK,YAA6D1B,OAAnDyC,EAAO,GAAGE,YAAY,+BAAmD3C,OAAtByC,EAAO,GAAGG,YAAY,cACnO7B,EAAWI,UAAUC,OAAO,Y,IAE7Bc,OAAM,SAAAtB,GACLE,EAASK,UAAUC,OAAO,aAC1BJ,EAAOG,UAAUE,IAAI,aACrBH,G","sources":["src/js/cat-api.js","src/js/index.js"],"sourcesContent":["const url = 'https://api.thecatapi.com/v1';\nconst api_key =\n  'live_c3rFUokWMhzXC4qp5HYr4so0a73lviRVj9JyJbbjMGF6hwvN5ennXkFnIC69TWBF';\n\nexport function fetchBreeds() {\n  return fetch(`${url}/breeds?api_key=${api_key}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${url}/images/seah?api_key=${api_key}&breed_ids=${breedId}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport '../css/styles.css';\n\nconst refs = {\n  selector: document.querySelector('.breed-select'),\n  divCatInfo: document.querySelector('.cat-info'),\n  error: document.querySelector('.error'),\n  loader: document.querySelector('.loader'),\n};\n\nconst { selector, divCatInfo, loader, error } = refs; //Деструктуризация рефсов\n\nerror.classList.add('is-hidden');\n\nfetchBreeds()\n  .then(res => {\n    const breedOptions = res.map(el => ({ text: el.name, value: el.id }));\n    breedOptions.forEach(optionData => {\n      const option = document.createElement('option');\n      option.value = optionData.value;\n      option.text = optionData.text;\n      selector.appendChild(option);\n      loader.classList.add('is-hidden');\n      selector.classList.remove('is-hidden');\n    });\n  })\n  .catch(error => {\n    selector.classList.add('is-hidden');\n    loader.classList.add('is-hidden');\n    onFetchError();\n  });\n\nselector.addEventListener('change', onSelectBreed);\n\nfunction onSelectBreed(event) {\n  loader.classList.remove('is-hidden');\n  selector.classList.add('is-hidden');\n  divCatInfo.classList.add('is-hidden');\n  error.classList.add('is-hidden');\n\n  const breedId = event.currentTarget.value;\n  fetchCatByBreed(breedId)\n    .then(data => {\n      loader.classList.add('is-hidden');\n      selector.classList.remove('is-hidden');\n      const { url, breeds } = data[0];\n\n      divCatInfo.innerHTML = `<div class=\"box-img\"><img src=\"${url}\" alt=\"${breeds[0].name}\" width=\"400\"/></div><div class=\"box\"><h1>${breeds[0].name}</h1><p>${breeds[0].description}</p><p><b>Temperament:</b> ${breeds[0].temperament}</p></div>`;\n      divCatInfo.classList.remove('is-hidden');\n    })\n    .catch(error => {\n      selector.classList.remove('is-hidden');\n      loader.classList.add('is-hidden');\n      onFetchError();\n    });\n}\n\nfunction onFetchError() {\n  error.classList.remove('is-hidden');\n}\n"],"names":["$8994e83c1b13b9e2$var$url","$8994e83c1b13b9e2$var$api_key","$8994e83c1b13b9e2$export$57b7d3a597416aa2","breedId","fetch","concat","then","response","ok","Error","status","json","$44ae6d9db4eaca0f$var$refs","selector","document","querySelector","divCatInfo","error","loader","$44ae6d9db4eaca0f$var$selector","$44ae6d9db4eaca0f$var$divCatInfo","$44ae6d9db4eaca0f$var$loader","$44ae6d9db4eaca0f$var$error","$44ae6d9db4eaca0f$var$onFetchError","classList","remove","add","res","map","el","text","name","value","id","forEach","optionData","option","createElement","appendChild","catch","addEventListener","event","currentTarget","data","ref","url","breeds","innerHTML","description","temperament"],"version":3,"file":"index.9748910c.js.map"}